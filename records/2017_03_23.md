# 東台資料

## 資料檢驗

在資料前處理的過程中，發現 Join 出來的檔案異常肥大，檢查後發現是 Raw Data 本身的 Timestamp 順序異常所導致。

我們預期的 Timestamp 值應該是要由小到大排列，例如：

``` csv
# 1.csv
1,0.0438235842808559
2,-0.0248409665003941
3,0.00567661162460587
4,0.0285647952183559
```

``` csv
# 5.csv
5,-0.0324703610316441
6,-0.00195278290664413
7,-0.0553585446253941
8,-0.0706173336878941
9,0.00567661162460587
```

``` csv
# 10.csv
10,-0.0706173336878941
11,-0.131652489937894
12,0.00567661162460587
```

只要把 `1.csv`, `5.csv`, `10.csv` 相接即可得到按 Timestamp 排序過的單一檔案。

但實際收到東台的資料卻呈現順序錯亂的情況：

``` csv
# 1.csv
5,-0.0324703610316441
6,-0.00195278290664413
7,-0.0553585446253941
8,-0.0706173336878941
9,0.00567661162460587
```

``` csv
# 5.csv
1,0.0438235842808559
2,-0.0248409665003941
3,0.00567661162460587
4,0.0285647952183559
```

``` csv
# 10.csv
10,-0.0706173336878941
11,-0.131652489937894
12,0.00567661162460587
```

透過撰寫簡易程式輔助檢查

``` bash
/tongtai/src/helpers $ python validate_raw_data.py > output.txt
```

得到 `output.txt` 匯報結果如下，列出的檔名皆是 Timestamp 異常的檔案：

```
parsing 第五軸 ABL TDA 168000轉 1267孔/idling_acc...
parsing 第五軸 ABL TDA 168000轉 1267孔/idling_curr...
parsing 第五軸 ABL TDA 168000轉 1267孔/working_acc...
Channel1_20170223131831265.csv
Channel1_20170223132009458.csv
Channel1_20170223132149506.csv
Channel1_20170223132150833.csv
Channel2_20170223131832912.csv
Channel2_20170223132010597.csv
Channel2_20170223132149778.csv
Channel2_20170223132150882.csv
Channel3_20170223131833098.csv
Channel3_20170223132010657.csv
Channel3_20170223132150261.csv
Channel3_20170223132150902.csv
parsing 第五軸 ABL TDA 168000轉 1267孔/working_curr...
Channel4_20170223131831773.csv
Channel4_20170223132011864.csv
Channel4_20170223132151515.csv
Channel4_20170223132153423.csv
Channel5_20170223131831736.csv
Channel5_20170223132011864.csv
Channel5_20170223132152644.csv
Channel5_20170223132153504.csv
Channel6_20170223131833550.csv
Channel6_20170223132011865.csv
Channel6_20170223132152563.csv
Channel6_20170223132153550.csv
parsing 第五軸ABL主機板 168000轉 10016孔/idling_acc...
parsing 第五軸ABL主機板 168000轉 10016孔/idling_curr...
parsing 第五軸ABL主機板 168000轉 10016孔/working_acc...
Channel1_20170302102936615.csv
Channel1_20170302103116462.csv
Channel1_20170302103256521.csv
Channel1_20170302103436252.csv
Channel1_20170302103616654.csv
Channel1_20170302103757664.csv
Channel1_20170302103938140.csv
Channel1_20170302104116825.csv
Channel1_20170302104256790.csv
Channel1_20170302104435790.csv
Channel1_20170302104615723.csv
Channel1_20170302104755782.csv
Channel1_20170302104935544.csv
Channel1_20170302105115821.csv
Channel1_20170302105255396.csv
Channel1_20170302105435330.csv
Channel1_20170302105615272.csv
Channel1_20170302105622962.csv
Channel2_20170302103116509.csv
Channel2_20170302103256521.csv
Channel2_20170302103436268.csv
Channel2_20170302103616529.csv
Channel2_20170302103758117.csv
Channel2_20170302103938701.csv
Channel2_20170302104117870.csv
Channel2_20170302104256837.csv
Channel2_20170302104435821.csv
Channel2_20170302104615723.csv
Channel2_20170302104756141.csv
Channel2_20170302104935716.csv
Channel2_20170302105115759.csv
Channel2_20170302105255412.csv
Channel2_20170302105436952.csv
Channel2_20170302105615272.csv
Channel3_20170302103116712.csv
Channel3_20170302103256521.csv
Channel3_20170302103436752.csv
Channel3_20170302103616654.csv
Channel3_20170302103758569.csv
Channel3_20170302103939263.csv
Channel3_20170302104118385.csv
Channel3_20170302104257273.csv
Channel3_20170302104436195.csv
Channel3_20170302104615801.csv
Channel3_20170302104755704.csv
Channel3_20170302104935560.csv
Channel3_20170302105115837.csv
Channel3_20170302105255412.csv
Channel3_20170302105437046.csv
Channel3_20170302105615397.csv
parsing 第五軸ABL主機板 168000轉 10016孔/working_curr...
Channel4_20170302102937598.csv
Channel4_20170302102939175.csv
Channel4_20170302102939986.csv
Channel4_20170302103119722.csv
Channel4_20170302103120799.csv
Channel4_20170302103121797.csv
Channel4_20170302103258269.csv
Channel4_20170302103259002.csv
Channel4_20170302103259673.csv
Channel4_20170302103438046.csv
Channel4_20170302103438280.csv
Channel4_20170302103438546.csv
Channel4_20170302103617653.csv
Channel4_20170302103617777.csv
Channel4_20170302103617793.csv
Channel4_20170302103757586.csv
Channel4_20170302103757618.csv
Channel4_20170302103757649.csv
Channel4_20170302103937625.csv
Channel4_20170302103937672.csv
Channel4_20170302104117683.csv
Channel4_20170302104117698.csv
Channel4_20170302104117714.csv
Channel4_20170302104257695.csv
Channel4_20170302104257741.csv
Channel4_20170302104437615.csv
Channel4_20170302104437755.csv
Channel4_20170302104617627.csv
Channel4_20170302104617642.csv
Channel4_20170302104617876.csv
Channel4_20170302104757638.csv
Channel4_20170302104757654.csv
Channel4_20170302104757732.csv
Channel4_20170302104937681.csv
Channel4_20170302104937884.csv
Channel4_20170302104937900.csv
Channel4_20170302105117787.csv
Channel4_20170302105117802.csv
Channel4_20170302105118005.csv
Channel4_20170302105257845.csv
Channel4_20170302105258266.csv
Channel4_20170302105258953.csv
Channel4_20170302105437670.csv
Channel4_20170302105438153.csv
Channel4_20170302105617737.csv
Channel4_20170302105617830.csv
Channel4_20170302105617877.csv
Channel5_20170302102938348.csv
Channel5_20170302102939503.csv
Channel5_20170302102940626.csv
Channel5_20170302103120081.csv
Channel5_20170302103121204.csv
Channel5_20170302103121922.csv
Channel5_20170302103258612.csv
Channel5_20170302103259330.csv
Channel5_20170302103259704.csv
Channel5_20170302103438171.csv
Channel5_20170302103438390.csv
Channel5_20170302103438421.csv
Channel5_20170302103617731.csv
Channel5_20170302103617793.csv
Channel5_20170302103618105.csv
Channel5_20170302103757586.csv
Channel5_20170302103758023.csv
Channel5_20170302103937625.csv
Channel5_20170302103937672.csv
Channel5_20170302103937687.csv
Channel5_20170302104117683.csv
Channel5_20170302104117714.csv
Channel5_20170302104118385.csv
Channel5_20170302104257741.csv
Channel5_20170302104437677.csv
Channel5_20170302104617627.csv
Channel5_20170302104617720.csv
Channel5_20170302104617876.csv
Channel5_20170302104757638.csv
Channel5_20170302104757654.csv
Channel5_20170302104758122.csv
Channel5_20170302104937681.csv
Channel5_20170302104937790.csv
Channel5_20170302104937931.csv
Channel5_20170302105117802.csv
Channel5_20170302105118005.csv
Channel5_20170302105118099.csv
Channel5_20170302105257798.csv
Channel5_20170302105257814.csv
Channel5_20170302105257876.csv
Channel5_20170302105437670.csv
Channel5_20170302105437810.csv
Channel5_20170302105617643.csv
Channel5_20170302105617955.csv
Channel5_20170302105618251.csv
Channel6_20170302102938832.csv
Channel6_20170302102939815.csv
Channel6_20170302102940657.csv
Channel6_20170302103120440.csv
Channel6_20170302103121204.csv
Channel6_20170302103122250.csv
Channel6_20170302103258799.csv
Channel6_20170302103259673.csv
Channel6_20170302103259720.csv
Channel6_20170302103438062.csv
Channel6_20170302103438265.csv
Channel6_20170302103438390.csv
Channel6_20170302103617777.csv
Channel6_20170302103617809.csv
Channel6_20170302103757586.csv
Channel6_20170302103758023.csv
Channel6_20170302103758070.csv
Channel6_20170302103937641.csv
Channel6_20170302103937687.csv
Channel6_20170302103938233.csv
Channel6_20170302104117714.csv
Channel6_20170302104117761.csv
Channel6_20170302104118822.csv
Channel6_20170302104257741.csv
Channel6_20170302104437662.csv
Channel6_20170302104437693.csv
Channel6_20170302104617876.csv
Channel6_20170302104617939.csv
Channel6_20170302104757638.csv
Channel6_20170302104757654.csv
Channel6_20170302104757670.csv
Channel6_20170302104937712.csv
Channel6_20170302104937744.csv
Channel6_20170302104937775.csv
Channel6_20170302105117802.csv
Channel6_20170302105117927.csv
Channel6_20170302105118036.csv
Channel6_20170302105257798.csv
Channel6_20170302105257861.csv
Channel6_20170302105257876.csv
Channel6_20170302105437685.csv
Channel6_20170302105437701.csv
Channel6_20170302105617737.csv
Channel6_20170302105617768.csv
```
